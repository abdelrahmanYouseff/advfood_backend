# ุฏููู ุฎุฏูุฉ ุงูุดุญู (Shipping Service)

ูุฐุง ุงูููู ูุฌูุน ูู ูุง ูุชุนูู ุจุชูุงูู ุงูุดุญู ุฏุงุฎู ูุธุงู **AdvFood** ูู ูุงุญูุฉ ุงูุฅุนุฏุงุฏุ ูุชุฏูู ุงูุนููุ ูุงููุงุฌูุงุช ุงูุจุฑูุฌูุฉ ุงูุฏุงุฎููุฉุ ูููุงุนุฏ ุงูุจูุงูุงุชุ ูุขููุงุช ุงููุฑุงูุจุฉ ูุญู ุงููุดููุงุช. ุงููุฏู ูู ุงูุชูุงู ูุฑุฌุน ูุงุญุฏ ูุบุทู ุฏูุฑุฉ ุญูุงุฉ ุงูุทูุจ ููุฐ ูุญุธุฉ ุฅูุดุงุฆู ูุญุชู ูุชุงุจุนุฉ ุญุงูุฉ ุงูุชูุตูู.

---

## ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุนูุงุฑูุฉ

1. **ุฅูุดุงุก ุงูุทูุจ**: ุงูุทูุจ ูููุดุฃ ุฃููุงู ุนุจุฑ ูููุงุช ุงูุณูุฉ ุฃู ุงูุฑูุงุจุทุ ููุชู ุชุฎุฒูู ุจูุงูุงุชู ูู ุฌุฏูู `orders`.
2. **ุชุฃููุฏ ุงูุฏูุน**: ุนูุฏูุง ูุตุจุญ `payment_status` ููุทูุจ `paid` ูุชู ุชุดุบูู ุฃุญุฏุงุซ ุงููููุฐุฌ (`created`/`updated`) ุงูุชู ุชุณุชุฏุนู ุฎุฏูุฉ ุงูุดุญู ูุฅุฑุณุงู ุงูุทูุจ ุชููุงุฆูุงู ุฅูู ุดุฑูุฉ ุงูุชูุตูู.
3. **ุฎุฏูุฉ ุงูุดุญู**: ุงูููู `ShippingService` ูู ุงููุณุคูู ุนู:
   - ุจูุงุก ุงูุทูุจ ูุชุญูู ุงูุจูุงูุงุช ูุจู ุงูุฅุฑุณุงู.
   - ุงูุชูุงุตู ูุน ุงูู API ุงูุฎุงุฑุฌู (ุฅูุดุงุกุ ุงุณุชุนูุงูุ ุฅูุบุงุก).
   - ุชุฎุฒูู ูุณุฎุฉ ูุญููุฉ ูู ุฌุฏูู `shipping_orders`.
   - ุงุณุชูุจุงู ุงูู webhooks ูุชุญุฏูุซ ุงูุญุงูุฉ ูุงูุณุงุฆู.
4. **ูุชุงุจุนุฉ ุงูุญุงูุฉ**: ุงููุธุงู ูููุฑ ููุงุท ููุงูุฉ (Endpoints) ููุงุณุชุนูุงู ุนู ุญุงูุฉ ุงูุดุญูุฉ ุฃู ุฅูุบุงุฆูุงุ ุจุงูุฅุถุงูุฉ ุฅูู ุงุณุชูุจุงู ุงูู webhooks.


## ุงูุฅุนุฏุงุฏุงุช ููุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงููุฑูุฒูุฉ ููุฌูุฏุฉ ูู ููู `config/services.php` ุชุญุช ููุชุงุญ `shipping`. ูุฌุจ ุถุจุท ุงูููู ุงูุชุงููุฉ ูู ููู ุงูุจูุฆุฉ `.env`:

```43:53:config/services.php
'shipping' => [
    'url' => env('SHIPPING_API_URL'),
    'key' => env('SHIPPING_API_KEY'),
    'endpoints' => [
        'create' => env('SHIPPING_API_ENDPOINT_CREATE', '/orders'),
        'status' => env('SHIPPING_API_ENDPOINT_STATUS', '/orders/{id}'),
        'cancel' => env('SHIPPING_API_ENDPOINT_CANCEL', '/orders/{id}'),
    ],
    'cancel_method' => env('SHIPPING_API_CANCEL_METHOD', 'delete'),
    'send_as_form' => env('SHIPPING_API_SEND_AS_FORM', false),
],
```

- **SHIPPING_API_URL**: ุนููุงู ุงูู API ุงูุฎุงุต ุจุดุฑูุฉ ุงูุดุญู.
- **SHIPPING_API_KEY**: ุฑูุฒ ุงููุตูู (Bearer token).
- **SHIPPING_API_ENDPOINT_CREATE / STATUS / CANCEL**: ูููู ุชุฎุตูุต ุงููุณุงุฑุงุช ุฅุฐุง ุงุฎุชููุช ุนู ุงูููู ุงูุงูุชุฑุงุถูุฉ.
- **SHIPPING_API_CANCEL_METHOD**: ููุน ุงูุทูุจ ุงููุณุชุฎุฏู ููุฅูุบุงุก (`delete` ุฃู `post`).
- **SHIPPING_API_SEND_AS_FORM**: ุนูุฏ ุชูุนููู ูุชู ุฅุฑุณุงู ุงูุทูุจ ูู `application/x-www-form-urlencoded` ุจุฏูุงู ูู JSON.
- **SHIPPING_API_VERIFY_SSL** (ุฎูุงุฑ ุงุฎุชูุงุฑู): ูููู ุชุนุทูู ุงูุชุญูู ูู ุดูุงุฏุงุช SSL ุนูุฏ ุงูุญุงุฌุฉ (ุชููุฑุฃ ุฏุงุฎู ุงูุฎุฏูุฉ).


## ูููุฐุฌ ุงูุจูุงูุงุช ูุงูููุงุนุฏ

### ุฌุฏูู `shipping_orders`
ูุญุชูุธ ุจูุณุฎุฉ ูู ุขุฎุฑ ุญุงูุฉ ูุนุฑููุฉ ูุฏู ุดุฑูุฉ ุงูุดุญู ููู ุทูุจ:

```14:35:database/migrations/2025_09_18_121000_create_shipping_orders_table.php
$table->unsignedBigInteger('order_id');
$table->string('shop_id', 50);
$table->string('dsp_order_id', 100)->nullable();
$table->string('shipping_status', 50)->default('New Order');
$table->string('recipient_name', 191);
$table->string('recipient_phone', 20);
$table->text('recipient_address');
$table->decimal('latitude', 10, 6)->nullable();
$table->decimal('longitude', 10, 6)->nullable();
$table->string('driver_name', 191)->nullable();
$table->string('driver_phone', 20)->nullable();
$table->decimal('driver_latitude', 10, 6)->nullable();
$table->decimal('driver_longitude', 10, 6)->nullable();
$table->decimal('total', 10, 2);
$table->tinyInteger('payment_type');
$table->text('notes')->nullable();
```

> ูุชู ุชุญุฏูุซ ุงูุฌุฏูู ุชููุงุฆูุงู ุนูุฏ ุฅุฑุณุงู ุงูุทูุจ ุฃู ุงุณุชูุจุงู Webhook ุฃู ุชูููุฐ ุงุณุชุนูุงู ุงูุญุงูุฉ.


## ุชุฏูู ุงูุนูู ุฏุงุฎู ูููุฐุฌ ุงูุทูุจ

ูุญุชูู ูููุฐุฌ `Order` ุนูู ุฃุญุฏุงุซ ุชููู ุจุฅุฑุณุงู ุงูุทูุจ ุฅูู ุงูุดุญู ุจุดูู ุชููุงุฆู:

```98:232:app/Models/Order.php
static::created(function ($order) {
    if (!empty($order->shop_id) && $order->payment_status === 'paid') {
        (new \App\Services\ShippingService())->createOrder($order);
    }
});

static::updated(function ($order) {
    if ($order->wasChanged('payment_status') && $order->payment_status === 'paid') {
        if (empty($order->dsp_order_id) && !empty($order->shop_id)) {
            (new \App\Services\ShippingService())->createOrder($order);
        }
    }
});
```

- ุนูุฏ ุฅูุดุงุก ุงูุทูุจ ูุชู ุงูุชุญูู ุฃู `payment_status = paid`. ุฅุฐุง ูุงู ุงูุดุฑุท ูุชุญููุงู ูุชู ุงูุฅุฑุณุงู ูุจุงุดุฑุฉ.
- ุนูุฏ ุชุญุฏูุซ ุงูุทูุจ ูุชู ูุฑุงูุจุฉ ุชุบููุฑ ุญุงูุฉ ุงูุฏูุน ุฅูู `paid`ุ ูุฅุฐุง ูู ููู ููุงู `dsp_order_id` (ุฃู ูู ูุชู ุงูุฅุฑุณุงู ุณุงุจูุงู) ูุชู ุงูุฅุฑุณุงู.


## ุฎุฏูุฉ ุงูุดุญู (ShippingService)

ุงูุฎุฏูุฉ ููุฌูุฏุฉ ูู `app/Services/ShippingService.php` ูุชุญุชูู ุนูู ุงููุธุงุฆู ุงูุชุงููุฉ:

### 1. `createOrder($order)`

ุงููุณุคูู ุนู:
- ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช API ูุตุญุฉ `order_number` ู`shop_id`.
- ุจูุงุก ุงูุญููู (Payload) ุจุงุณุชุฎุฏุงู `order_number` ููุนุฑูู ุฎุงุฑุฌู (ูุง ูุชู ุงุณุชุฎุฏุงู `id`).
- ุฅุฑุณุงู ุงูุทูุจ ุนุจุฑ HTTP (ูุน ุฎูุงุฑ ุงูุฅุฑุณุงู ูู JSON ุฃู Form).
- ุชุณุฌูู ูู ุฎุทูุฉ ูู ุงูู logsุ ุจูุง ูู ุฐูู ุงูุฃุฎุทุงุก ุงูุชูุตูููุฉ (ุชุฃููุฏุงุช `shop_id`, ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ, ุฅูุฎ).
- ุฅุฏุฑุงุฌ ุณุฌู ูู ุฌุฏูู `shipping_orders` ูุน ุชูููุฏ `dsp_order_id` ุงุญุชูุงุทู ุฅุฐุง ูู ุชุฒูุฏู ุงูุดุฑูุฉ.

```32:505:app/Services/ShippingService.php
$payload = [
    'id' => $orderIdString,
    'shop_id' => $shopIdForApi,
    'delivery_details' => [...],
    'order' => [...],
];

DB::table('shipping_orders')->insert($row);
Log::info('๐ Order successfully sent to shipping company and saved!', [...]);
```

**ููุงุท ุฑุฆูุณูุฉ ูุฌุจ ุงูุงูุชุฒุงู ุจูุง:**
- `order_number` ูู ุงููุนุฑูู ุงููุฑุณู ูุดุฑูุฉ ุงูุดุญู (ูุง ุชุณุชุฎุฏู `id`).
- `shop_id` ูุชู ูุฑุงุกุชู ูู ุงููุทุนู ุฃููุงูุ ุซู ูู ุงูุทูุจุ ูุฃุฎูุฑุงู ููุฌุฏ fallback ูููููุฉ ุงูุงูุชุฑุงุถูุฉ ูุน ุชุญุฐูุฑ ูุงุถุญ ูู ุงูู log.
- ูุชู ุชุนููู ุฅุญุฏุงุซูุงุช ุงูุนููู (`customer_latitude`, `customer_longitude`) ุฅู ุชููุฑุช.
- ูุชู ุชูุธูู ุฑูู ุงููุงุชู ูุฅุถุงูุฉ ุจุฑูุฏ ุฅููุชุฑููู ุงุตุทูุงุนู ูุฑูุฏ.
- ููุฌุฏ ุชุนุงูู ูุงุณุน ูุน ุงูุฃุฎุทุงุก (`422`, `401`, `404`, `500`, ูุดุงูู ุงูุงุชุตุงู...) ูุน ุงูุชุฑุงุญ ุฎุทูุงุช ููุฅุตูุงุญ.

### 2. `getOrderStatus($shippingOrderId)`
- ูุณุชุฏุนู ุงูู API ุงูุฎุงุฑุฌู ููุนุฑูุฉ ุงูุญุงูุฉ.
- ูููู ุจุฅุถุงูุฉ ุฃู ุชุญุฏูุซ ุงูุณุฌู ุงููุญูู ูู `shipping_orders`.
- ูุญุฏูุซ ุฌุฏูู `orders` ุฅุฐุง ูุงู ููุงู ุชุทุงุจู ุนูู `order_number` ุฃู `dsp_order_id`.
- ูุนูุฏ ุงูุจูุงูุงุช ุงูุฃูููุฉ ูููุชุตู.

### 3. `cancelOrder($shippingOrderId)`
- ูููุฐ ุทูุจ ุฅูุบุงุก ุจุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงููุญุฏุฏุฉ ูู ุงูุฅุนุฏุงุฏุงุช (`delete` ุฃู `post`).
- ุนูุฏ ุงููุฌุงุญ ูููู ุจุชุญุฏูุซ ุงูุญุงูุฉ ูุญููุงู ุฅูู `cancelled` ูู ุฌุฏูููู `shipping_orders` ู`orders`.
- ูู ุญุงูุฉ ูุดู ุงูุฅูุบุงุก (ูุซู ููู ุงูุทูุจ ููุฏ ุงูุชูุตูู) ูุฑุฌุน ุชูุงุตูู ุงูุฎุทุฃ ููุชุนุงูู ุงููุงุฌูุฉ.

### 4. `handleWebhook(Request $request)`
- ุชูุณุชุฏุนู ูู ูุณุงุฑ ุงูู webhook ูุงุณุชูุจุงู ุชุญุฏูุซุงุช ุงูุญุงูุฉ ุฃู ูููุน ุงูุณุงุฆู.
- ุชูุญุฏูุซ `shipping_orders` ู `orders` ุจุงูููู ุงูุฌุฏูุฏุฉ (ุงูุญุงูุฉ ูุงูุณุงุฆู ูุฅุญุฏุงุซูุงุชู).

### 5. ุชูุงุจุน ูุณุงุนุฏุฉ
- `mapPaymentType`: ูุญูู ุทุฑููุฉ ุงูุฏูุน ุฅูู ุฃุฑูุงู ูุทููุจุฉ ูู ุงูุดุฑูุฉ (ููุฏู =1ุ ูุงูููุฉ=10ุ ุงูุชุฑุงุถู=0).
- `buildUrl`: ุฏูุฌ ุงูููู ูู ุงููุณุงุฑุงุช ุงูุฏููุงููููุฉ (`/orders/{id}`).
- `flattenArray`: ูุชุญููู ุงูู payload ุฅูู ุตูุบุฉ form-data ุนูุฏ ุงูุญุงุฌุฉ.


## ููุงุท ุงูุชูุงูู (Controllers & Routes)

### ุงููุณุงุฑุงุช ุงูุจุฑูุฌูุฉ (API)
ููุนุฑููุฉ ูู `routes/api.php` ุชุญุช ูุฌููุนุฉ ุงูู API ุงูุนุงูุฉ:

```220:223:routes/api.php
Route::post('/shipping/webhook', [ShippingController::class, 'handleWebhook']);
Route::get('/shipping/status/{dspOrderId}', [ShippingController::class, 'getStatus']);
Route::post('/shipping/cancel/{dspOrderId}', [ShippingController::class, 'cancel']);
```

### `ShippingController`

```19:47:app/Http/Controllers/ShippingController.php
public function handleWebhook(Request $request)
{
    $this->shippingService->handleWebhook($request);
    return response()->json(['message' => 'Webhook processed']);
}

public function createOrder(Request $request)
{ ... }

public function getStatus(string $dspOrderId)
{ ... }

public function cancel(string $dspOrderId)
{ ... }
```

- `handleWebhook`: ููุทุฉ ุงูุฏุฎูู ุงูุฑุณููุฉ ูุงุณุชูุจุงู ุฅุดุนุงุฑุงุช ุงููุฒูุฏ.
- `getStatus`: ูุงุณุชุนูุงู ุงูุญุงูุฉ (ูุนูุฏ ูู ูู ุงูุจูุงูุงุช ูู ุงููุฒูุฏ ูุงููุณุฎุฉ ุงููุฎุฒูุฉ).
- `cancel`: ูุชูููุฐ ุงูุฅูุบุงุก ูุงูุงูุนูุงุณ ูุญููุงู.
- ููุฌุฏ ูุฐูู `createOrder (POST /api/shipping/create-order)` ูุงุฎุชุจุงุฑ ุงูุฅุฑุณุงู ุงููุฏูู.


## ุฎุทูุงุช ุงูุชุดุบูู ุงููููุฐุฌูุฉ

1. **ุถุจุท ุงูุฅุนุฏุงุฏุงุช**: ููุก ูุชุบูุฑุงุช ุงูุจูุฆุฉ (`SHIPPING_API_*`).
2. **ุฅูุดุงุก ุงูุทูุจ**: ูุชู ุชููุงุฆูุงู ุนุจุฑ ุงููุธุงู (ูู checkout ุฃู ุงูุฅุฏุงุฑุฉ) ูููุฎุฒู ูู `orders`.
3. **ุชุฃููุฏ ุงูุฏูุน**: ุจูุฌุฑุฏ ุชุบููุฑ `payment_status` ุฅูู `paid`, ูุชู ุฅุฑุณุงู ุงูุทูุจ ุชููุงุฆูุงู.
4. **ุชุญูู ูู ุงููุชุงุฆุฌ**:
   - ุฑุงูุจ ุณุฌู `storage/logs/laravel.log` ููุจุญุซ ุนู `SHIPPINGSERVICE::createOrder`.
   - ุชุฃูุฏ ูู ูุฌูุฏ ุณุฌู ูู `shipping_orders`.
   - ุงุณุชุฎุฏู `/api/shipping/status/{dsp_order_id}` ููุชุญูู ูู ุงูุญุงูุฉ ููุช ุงูุญุงุฌุฉ.
5. **ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ**: ุนูุฏ ูุตูู Webhook ูู ุงูุดุฑูุฉุ ูุชู ุชุญุฏูุซ ุงูุณุฌูุงุช ุชููุงุฆูุงู (ุญุงูุฉ ุงูุทูุจุ ุจูุงูุงุช ุงูุณุงุฆูุ ...).


## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

- **ุงุนุชูุงุฏูุงุช ุฃุณุงุณูุฉ**: ูุฌุจ ุฃู ูููู ููู ูุทุนู ูููุฉ `shop_id` ุตุญูุญุฉ. ูู ุญุงู ุบูุงุจูุงุ ุณููุชุจ ุงููุธุงู ุชุญุฐูุฑุงุช ููุณุชุฎุฏู ูููุฉ ุงูุชุฑุงุถูุฉ (`11183`) ูุน ุชูุตูุฉ ุจุงูุชุตุญูุญ.
- **ูุดู ุงูุฅุฑุณุงู (422 / Invalid Shop)**: ุชุญูู ูู ุงูุฑุจุท ุจูู ุงููุทุนู ูุดุฑูุฉ ุงูุดุญู. ุชุธูุฑ ุฑุณุงุฆู ุชูุตูููุฉ ูู ุงูู logs ูุน ุฎุทูุงุช ููุชุฑุญุฉ.
- **ุฃุฎุทุงุก 401**: ุบุงูุจุงู ููุชุงุญ API ุฎุงุทุฆ ุฃู ููุชูู.
- **ุฃุฎุทุงุก ุงูุงุชุตุงู (ConnectionException)**: ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุดุจูุฉ ูุชููุฆุฉ ุงูู SSL.
- **Webhook ูุง ูุตู**: ุชุฃูุฏ ูู ุฃู ุดุฑูุฉ ุงูุดุญู ุชูุฌู ุงูุฅุดุนุงุฑุงุช ุฅูู `https://advfoodapp.clarastars.com/api/shipping/webhook` ูุฃู ุงูุณูุฑูุฑ ูุณูุญ ุจุงููุตูู.
- **ูุง ูุชู ุฅูุดุงุก ุงูุณุฌู ูู shipping_orders**: ุชุญูู ูู ุฃู `createOrder` ุฃุนุงุฏ ุจูุงูุงุช ูุฃู ุงูุงุชุตุงู ูุฌุญุ ุฃู ุงุณุชุฎุฏู `getStatus` ูุฅุนุงุฏุฉ ุฅูุดุงุก ุงูุณุฌู.


## ููุงุฑุณุงุช ููุตู ุจูุง

- **ุงูุชุฌุฑุจุฉ ูู ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ** ูุจู ุชูุนูู ุงูุฅุฑุณุงู ุงูุญููููุ ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ููููุฉ ูุงูุชุฃูุฏ ูู ุฃู ุณุฌูุงุช ุงูู logs ุชุธูุฑ ุฌููุน ุงูุฎุทูุงุช ุจุฏูู ุฃุฎุทุงุก.
- **ูุฑุงูุจุฉ ุงูู logs** ุจุนุฏ ุฃู ุชุญุฏูุซ ุฃู ุชุดุบูู ุฃู ูุดุฑ ุฌุฏูุฏ.
- **ุชุญุฏูุซ ุจูุงูุงุช ุงููุทุงุนู** ูุฅุฏุฎุงู `shop_id` ุงูุตุญูุญ ููู ูุทุนู ูุจู ุงูุณูุงุญ ุจุงูุทูุจุงุช.
- **ุญุฐู ุจูุงูุงุช ุงุฎุชุจุงุฑูุฉ** ูู `shipping_orders` ู `orders` ุนูุฏ ุงูุงูุชูุงุก ูู ุงูุชุญูู ูุถูุงู ุฏูุฉ ุงูุชูุงุฑูุฑ.
- **ุถุจุท ุชูุจููุงุช** (ูู ุงููุณุชูุจู) ููุฑุงูุจุฉ ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ ูุซู `Invalid shop` ุฃู `Shipping API credentials missing`.


## ููุญู: ุฃูู ุงูุฑุณุงุฆู ูู ุงูู Logs

| ุงูุฑุณุงูุฉ | ุงููุนูู | ุงูุฅุฌุฑุงุก ุงูููุชุฑุญ |
|---------|--------|------------------|
| `๐ฆ SHIPPINGSERVICE::createOrder CALLED` | ุจุฏุฃ ุฅุฑุณุงู ุงูุทูุจ | ุชุญูู ุฃูู ูููู ุณุฌู ูุฌุงุญ ุฃู ูุดู ูุชุชุจุน ุงููุชูุฌุฉ |
| `๐ STEP 1: Checking API credentials` | ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช API | ุฅุฐุง ุธูุฑุช ูุงุญูุงู ุฑุณุงูุฉ ููุต ุจูุงูุงุชุ ุชุฃูุฏ ูู `.env` |
| `โ Shipping API credentials missing!` | ูู ูุชู ุถุจุท URL ุฃู Key | ุงูุชู ุงูุฅุนุฏุงุฏ ูู `.env` ูุฃุนุฏ ุชููุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุฅุนุฏุงุฏุงุช |
| `๐ Starting shipping order creation` | ุฌุงุฑู ุจูุงุก ูุชุญุถูุฑ ุงูุญููู | ูุชุงุจุนุฉ ุงูุณุฌูุงุช ููุชุฃูุฏ ูู ูุฌุงุญ ุงูุฅุฑุณุงู |
| `โ Failed to send order to shipping company` | ูุดู ุงูุฅุฑุณุงู | ุฑุงุฌุน `http_status` ู `error_message` ููุนุฑูุฉ ุงูุณุจุจ |
| `โ Shipping API Response Received` | ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ | ููุชุฑุถ ุฃู ููููุง ุฑุณุงูุฉ ูุฌุงุญ ููุงุฆูุฉ |
| `๐ Order successfully sent to shipping company and saved!` | ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ | ุชุญูู ูู ุฌุฏูู `shipping_orders` |
| `๐ด Validation Error (422)` | ุฎุทุฃ ุชุญูู ูู ุงููุฒูุฏ | ุบุงูุจุงู ูุชุนูู ุจุงูู `shop_id` ุฃู ุงูุจูุงูุงุช ุงููุทููุจุฉ |
| `๐จ CRITICAL: SHOP_ID VALIDATION ISSUE` | ูุดููุฉ shop_id ูุน ุงููุฒูุฏ | ุชุฃูุฏ ูู ุชุณุฌูู ุงููุทุนู ูู ูุธุงู ุงูุดุญู ุจููุณ ุงููุนุฑู |


## ุฎุงุชูุฉ

ูุฐุง ุงูุฏููู ูุบุทู ูู ูุง ูุชุนูู ุจุฎุฏูุฉ ุงูุดุญู ูู AdvFood ูู ุญูุซ ุงูุชููููุ ูุชุฏูู ุงูุจูุงูุงุชุ ูุงูุฑุจุท ูุน ุงูุนูุงุตุฑ ุงูุฃุฎุฑู ุฏุงุฎู ุงููุธุงู. ูููุตุญ ุจุงูุฑุฌูุน ุฅููู ุนูุฏ ุชูููุฐ ุฃู ุชุนุฏููุงุช ุฃู ุนูุฏ ููุงุฌูุฉ ุฃู ูุดููุฉ ูุชุนููุฉ ุจุงูุดุญู. ูููุฒูุฏ ูู ุงูุชูุงุตููุ ูููู ูุฑุงุฌุนุฉ ุงููููุงุช ุงููุดุงุฑ ุฅูููุง ุฃุนูุงู ุฃู ุงูุจุญุซ ูู ุงูู logs ุจุงุณุชุฎุฏุงู ุงููููุงุช ุงูููุชุงุญูุฉ ุงููุฐููุฑุฉ.



